"use strict";(self["webpackChunkmy_budget"]=self["webpackChunkmy_budget"]||[]).push([[929],{751:(e,t,l)=>{l.d(t,{Z:()=>r});var n=l(3673),a=l(2323);function o(e,t,l,o,i,u){return(0,n.wg)(),(0,n.iD)("div",{class:(0,a.C_)(["total-value",u.color])},"Balance: "+(0,a.zw)(u.totalBalance)+" "+(0,a.zw)(u.rub),3)}var i=l(3617);const u={name:"Balance",props:{currency:{type:String,default:""}},computed:{...(0,i.rn)({balance:e=>e.balance}),color(){return this.balance>0?"positive":this.balance<0?"negative":"zero"},totalBalance(){return this.currency?this.balance/this.$store.getters.getExchangeRate.find((e=>e.Name===this.currency)).Value:this.balance},rub(){return this.currency?"":"руб."}}};var m=l(4260);const s=(0,m.Z)(u,[["render",o],["__scopeId","data-v-610407bd"]]),r=s},5929:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ee});var n=l(3673);function a(e,t,l,a,o,i){const u=(0,n.up)("Form"),m=(0,n.up)("Balance"),s=(0,n.up)("BudgetList");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(u,{onSubmit:e.onSubmit},null,8,["onSubmit"]),(0,n.Wm)(m),(0,n.Wm)(s)],64)}l(6801);const o={class:"q-pa-md flex flex-center"},i=(0,n.Uk)("Приход/расход денежных средств");function u(e,t,l,a,u,m){const s=(0,n.up)("q-select"),r=(0,n.up)("q-tooltip"),d=(0,n.up)("q-input"),c=(0,n.up)("q-btn"),p=(0,n.up)("q-form"),y=(0,n.up)("q-card");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(y,{class:"q-pa-lg",style:{width:"500px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{ref:"myForm",onSubmit:m.onSubmit,onReset:m.onReset,class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(s,{outlined:"",dense:"",modelValue:u.anyComing.type,"onUpdate:modelValue":t[0]||(t[0]=e=>u.anyComing.type=e),options:u.options,label:"Движение средств"},null,8,["modelValue","options"]),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[i])),_:1})]),(0,n._)("div",null,[(0,n.Wm)(d,{outlined:"",dense:"",modelValue:u.anyComing.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>u.anyComing.comment=e),label:"Comment *","lazy-rules":"",rules:[e=>e&&""!==e.trim()||"Please type comment"]},null,8,["modelValue","rules"]),(0,n.Wm)(d,{outlined:"",dense:"",type:"number",modelValue:u.anyComing.value,"onUpdate:modelValue":t[2]||(t[2]=e=>u.anyComing.value=e),modelModifiers:{number:!0},label:"Value *","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type value",e=>e>0||"Please type value more than 0"]},null,8,["modelValue","rules"])]),(0,n._)("div",null,[(0,n.Wm)(c,{dense:"",label:"Add",type:"submit",color:"primary"}),(0,n.Wm)(c,{dense:"",label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"])])),_:1})])}var m=l(1185);const s={name:"Form",data(){return{anyComing:{type:"INCOMING",comment:"",value:null},options:["INCOMING","OUTCOMING"]}},methods:{onSubmit(){this.$emit("submit",{...this.anyComing,value:this.anyComing.value,id:(0,m.Z)()}),this.onReset(),this.$refs.myForm.resetValidation()},onReset(){this.anyComing.type="INCOMING",this.anyComing.comment="",this.anyComing.value=null}}};var r=l(4260),d=l(151),c=l(5269),p=l(1935),y=l(8870),f=l(4842),v=l(8240),g=l(7518),h=l.n(g);const C=(0,r.Z)(s,[["render",u]]),_=C;h()(s,"components",{QCard:d.Z,QForm:c.Z,QSelect:p.Z,QTooltip:y.Z,QInput:f.Z,QBtn:v.Z});var w=l(751);const b={class:"q-pa-md flex flex-center"},I=(0,n._)("div",{class:"text-h5 text-center q-mb-sm"},"Budget List",-1),V={class:"flex justify-between"},q={key:1,class:"q-pa-md flex flex-center"};function W(e,t,l,a,o,i){const u=(0,n.up)("q-icon"),m=(0,n.up)("q-input"),s=(0,n.up)("q-btn"),r=(0,n.up)("q-btn-group"),d=(0,n.up)("q-card-section"),c=(0,n.up)("q-separator"),p=(0,n.up)("BudgetListItem"),y=(0,n.up)("q-card");return(0,n.wg)(),(0,n.iD)("div",b,[(0,n.Wm)(y,{class:"q-pa-md",style:{width:"500px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"q-pt-none"},{default:(0,n.w5)((()=>[I,(0,n._)("div",V,[(0,n.Wm)(m,{outlined:"",dense:"",modelValue:o.inputValue,"onUpdate:modelValue":t[1]||(t[1]=e=>o.inputValue=e),label:"Search"},(0,n.Nv)({_:2},[o.inputValue?{name:"append",fn:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"close",onClick:t[0]||(t[0]=e=>o.inputValue=""),class:"cursor-pointer"})]))}:void 0]),1032,["modelValue"]),(0,n.Wm)(r,{push:""},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{push:"",outline:"all"===o.filterType,label:"All",onClick:t[2]||(t[2]=e=>o.filterType="all")},null,8,["outline"]),(0,n.Wm)(s,{push:"",outline:"in"===o.filterType,icon:"add_circle_outline",onClick:t[3]||(t[3]=e=>o.filterType="in")},null,8,["outline"]),(0,n.Wm)(s,{push:"",outline:"out"===o.filterType,icon:"remove_circle_outline",onClick:t[4]||(t[4]=e=>o.filterType="out")},null,8,["outline"])])),_:1})])])),_:1}),(0,n.Wm)(c),i.allComingFilter.length?((0,n.wg)(),(0,n.j4)(d,{key:0},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.allComingFilter,(e=>((0,n.wg)(),(0,n.j4)(p,{key:e.id,item:e},null,8,["item"])))),128))])),_:1})):((0,n.wg)(),(0,n.iD)("div",q," Empty List "))])),_:1})])}var Z=l(2323),Q=l(8880);const N=e=>((0,n.dD)("data-v-6d5a5f68"),e=e(),(0,n.Cn)(),e),T={class:"q-pa-md flex flex-center"},B={class:"ellipsis",style:{width:"55%"}},k=(0,n.Uk)(" Delete "),L=N((()=>(0,n._)("span",{class:"q-ml-sm"},"Do you wanna delete?",-1)));function S(e,t,l,a,o,i){const u=(0,n.up)("q-icon"),m=(0,n.up)("q-input"),s=(0,n.up)("q-popup-edit"),r=(0,n.up)("q-tooltip"),d=(0,n.up)("q-btn"),c=(0,n.up)("q-avatar"),p=(0,n.up)("q-card-section"),y=(0,n.up)("q-card-actions"),f=(0,n.up)("q-card"),v=(0,n.up)("q-dialog"),g=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",T,[(0,n.Wm)(u,{name:i.icon,class:(0,Z.C_)([i.style,"q-mr-sm"])},null,8,["name","class"]),(0,n._)("span",B,[(0,n.Uk)((0,Z.zw)(l.item.comment)+" ",1),(0,n.Wm)(s,{"model-value":l.item.comment,"auto-save":""},{default:(0,n.w5)((e=>[(0,n.Wm)(m,{modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,t=>i.editItem(e.value,l.item.id)],dense:"",autofocus:"",onKeyup:(0,Q.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:1},8,["model-value"]),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,Z.zw)(l.item.comment),1)])),_:1})]),(0,n._)("span",{class:(0,Z.C_)(["value",i.style])},[(0,n.Uk)((0,Z.zw)(l.item.value)+" ",1),(0,n.Wm)(s,{"model-value":l.item.value,"auto-save":""},{default:(0,n.w5)((e=>[(0,n.Wm)(m,{modelValue:e.value,"onUpdate:modelValue":[t=>e.value=t,t=>i.editValue(e.value,l.item.id)],modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:(0,Q.D2)(e.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])),_:1},8,["model-value"])],2),(0,n.Wm)(d,{color:"red",onClick:t[0]||(t[0]=e=>o.confirm=!0)},{default:(0,n.w5)((()=>[k])),_:1}),(0,n.Wm)(v,{modelValue:o.confirm,"onUpdate:modelValue":t[2]||(t[2]=e=>o.confirm=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"row items-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{icon:"signal_wifi_off",color:"primary","text-color":"white"}),L])),_:1}),(0,n.Wm)(y,{align:"right"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(d,{flat:"",label:"Cancel",color:"primary"},null,512),[[g]]),(0,n.wy)((0,n.Wm)(d,{flat:"",label:"Yes",color:"primary",onClick:t[1]||(t[1]=e=>i.deleteItem(l.item.id,l.item.type,l.item.value))},null,512),[[g]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var E=l(4434);const U={name:"BudgetListItem",data(){return{confirm:!1}},props:{item:{type:Object,default:()=>{}}},computed:{style(){return"INCOMING"===this.item.type?"incoming":"outcoming"},icon(){return"INCOMING"===this.item.type?"add_circle_outline":"remove_circle_outline"}},methods:{deleteItem(e,t,l){this.$store.commit("DELETE_ITEM",{id:e,type:t,value:l})},editItem(e,t){this.$store.commit("EDIT_ITEM",{comment:e,id:t})},editValue(e,t){"number"===typeof e?this.$store.commit("EDIT_VALUE",{value:e,id:t}):E.Z.create({message:"Вы ввели не число!",type:"negative",timeout:500})}}};var x=l(4554),D=l(1289),M=l(6778),O=l(5589),$=l(5096),G=l(9367),A=l(677);const F=(0,r.Z)(U,[["render",S],["__scopeId","data-v-6d5a5f68"]]),z=F;h()(U,"components",{QIcon:x.Z,QPopupEdit:D.Z,QInput:f.Z,QTooltip:y.Z,QBtn:v.Z,QDialog:M.Z,QCard:d.Z,QCardSection:O.Z,QAvatar:$.Z,QCardActions:G.Z}),h()(U,"directives",{ClosePopup:A.Z});var R=l(3617);const K={name:"BudgetList",components:{BudgetListItem:z},data(){return{filterType:"all",inputValue:""}},methods:{deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},editValue(e){this.$emit("editValue",e)}},computed:{...(0,R.rn)({allComing:e=>e.allComing}),allComingFilter(){return"out"===this.filterType?this.allComing.filter((e=>"OUTCOMING"===e.type)).filter((e=>e.comment.toLowerCase().includes(this.inputValue.toLowerCase()))):"in"===this.filterType?this.allComing.filter((e=>"INCOMING"===e.type)).filter((e=>e.comment.toLowerCase().includes(this.inputValue.toLowerCase()))):this.allComing.filter((e=>e.comment.toLowerCase().includes(this.inputValue.toLowerCase())))}}};var P=l(6375),j=l(5869);const Y=(0,r.Z)(K,[["render",W]]),H=Y;h()(K,"components",{QCard:d.Z,QCardSection:O.Z,QInput:f.Z,QIcon:x.Z,QBtnGroup:P.Z,QBtn:v.Z,QSeparator:j.Z});const J=(0,n.aZ)({name:"Budget",components:{Balance:w.Z,Form:_,BudgetList:H},computed:{...(0,R.rn)({balance:e=>e.balance}),...(0,R.Se)(["getExchangeRate"])},methods:{onSubmit(e){if(this.$store.commit("SET_COMING",e),"INCOMING"===e.type){const t=this.balance+e.value;this.$store.commit("SET_BALANCE",t)}else{const t=this.balance-e.value;this.$store.commit("SET_BALANCE",t)}}}}),X=(0,r.Z)(J,[["render",a]]),ee=X}}]);